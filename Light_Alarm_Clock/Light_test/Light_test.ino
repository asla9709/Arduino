int duty = 0;
int steps = 64;
int sunrisespeed = 600;
int i;
int j;
int pulsepin = 11;

int lookupRed[64] = {1,2,4,6,9,12,16,20,25,30,36,
42,49,56,64,72,81,90,100,110,121,132,
144,156,169,182,196,210,225,240,256,272,289,
306,324,342,361,380,400,420,441,462,484,506,
529,552,576,600,625,650,676,702,729,756,784,
812,841,870,900,930,961,992,992,992};

int lookupGreen[64] = {0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,1,3,6,10,14,19,25,32,40,
48,57,67,78,90,102,115,129,144,
160,176,193,211,230,250,270,291,
313,336,360,384,409,435,462,490,
518,547,577,608,640,672,705,739,
774,810,846,883,921,921,921};

int lookupBlue[64] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,
3,7,12,20,28,39,51,64,80,96,
115,135,156,180,204,231,259,
288,320,352,387,423,460,500,
540,583,627,672,720,768,819,
871,924,924,924};


// there are freq steps in the phasing
void setup()
{
  pinMode(pulsepin, OUTPUT);
}

void loop()
{
  for (i=0; i<steps; i++)
  {
    duty = lookupRed[i] * 5;
    for (j=0; j<sunrisespeed; j++)
    {
      // one pulse of PWM
      digitalWrite(pulsepin, HIGH);
      delayMicroseconds(duty);
      digitalWrite(pulsepin, LOW);
      delayMicroseconds(5000-duty);
    }
  }
}
